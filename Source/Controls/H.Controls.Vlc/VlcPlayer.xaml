<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:h="https://github.com/HeBianGu"
                    xmlns:local="clr-namespace:H.Controls.Vlc"
                    xmlns:wpf="clr-namespace:Vlc.DotNet.Wpf;assembly=Vlc.DotNet.Wpf">


    <RoutedUICommand x:Key="Resource.RouteCommand.Play"
                     Text="播放" />

    <Style x:Key="Style.Tool.Button"
           TargetType="{x:Type Button}">
        <Setter Property="Width" Value="100" />
        <Setter Property="Height" Value="30" />
    </Style>
    <Style x:Key="Style.Slider.Button"
           TargetType="{x:Type Button}">
        <Setter Property="Width" Value="30" />
        <Setter Property="Height" Value="20" />
    </Style>

    <Style x:Key="Style.Slider.FButton"
           BasedOn="{StaticResource {x:Static h:ButtonKeys.Default}}"
           TargetType="{x:Type Button}">
        <Setter Property="Background" Value="Transparent" />
        <!--<Setter Property="Width" Value="30" />
        <Setter Property="Height" Value="20" />-->
        <Setter Property="Foreground" Value="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=ToolForeground}" />
    </Style>


    <Style x:Key="{ComponentResourceKey ResourceId=S.VlcPlayer.Default,
                                        TypeInTargetAssembly={x:Type local:VlcPlayer}}"
           TargetType="{x:Type local:VlcPlayer}">
        <Setter Property="Background" Value="{DynamicResource {x:Static h:BrushKeys.Background}}" />
        <Setter Property="ClipToBounds" Value="True" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="VerticalAlignment" Value="Stretch" />
        <Setter Property="ToolBackground" Value="{DynamicResource {x:Static h:BrushKeys.MouseOver}}" />
        <Setter Property="ToolForeground" Value="{DynamicResource {x:Static h:BrushKeys.Foreground}}" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static h:BrushKeys.Foreground}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:VlcPlayer">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Grid>
                                <Button Command="{x:Static local:VlcPlayerCommands.PlayMode}"
                                        Content="{TemplateBinding Content}"
                                        Style="{x:Null}">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <ContentPresenter />
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>

                                <Path Width="100"
                                      Height="100"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Data="M128 138.666667c0-47.232 33.322667-66.666667 74.176-43.562667l663.146667 374.954667c40.96 23.168 40.853333 60.8 0 83.882666L202.176 928.896C161.216 952.064 128 932.565333 128 885.333333v-746.666666z"
                                      Fill="{DynamicResource {x:Static h:BrushKeys.Foreground}}"
                                      IsHitTestVisible="False"
                                      Stretch="Uniform"
                                      ToolTip="播放"
                                      Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsPlaying, Converter={x:Static h:Converter.GetTrueToHidden}}" />

                                <DockPanel DockPanel.Dock="Right"
                                           Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseRight, Converter={x:Static h:Converter.GetTrueToVisible}}">
                                    <ContentControl HorizontalAlignment="Right"
                                                    Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.RightTemplate)}" />
                                </DockPanel>

                                <DockPanel HorizontalAlignment="Left"
                                           VerticalAlignment="Stretch"
                                           Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseLeft, Converter={x:Static h:Converter.GetTrueToVisible}}">
                                    <ContentControl HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.LeftTemplate)}" />
                                </DockPanel>

                                <DockPanel HorizontalAlignment="Stretch"
                                           VerticalAlignment="Top">
                                    <ContentControl HorizontalAlignment="Stretch"
                                                    Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.TopTemplate)}" />
                                </DockPanel>

                                <FontIconButton HorizontalAlignment="Left"
                                                Background="Transparent"
                                                Command="{x:Static local:VlcPlayerCommands.PreviousFrame}"
                                                Content="{x:Static FontIcons.ChevronLeft}"
                                                ToolTip="上一帧"
                                                Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />
                                <FontIconButton HorizontalAlignment="Right"
                                                Background="Transparent"
                                                Command="{x:Static local:VlcPlayerCommands.NextFrame}"
                                                Content="{x:Static FontIcons.ChevronRight}"
                                                ToolTip="下一帧"
                                                Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />

                            </Grid>

                            <Border x:Name="border"
                                    Height="100"
                                    Margin="0,0,0,-20"
                                    VerticalAlignment="Bottom"
                                    Background="Transparent"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UseBottom, Converter={x:Static h:Converter.GetTrueToVisible}}">
                                <DockPanel x:Name="dp_bottom"
                                           Margin="0,0,0,20"
                                           VerticalAlignment="Bottom">
                                    <ContentControl DockPanel.Dock="Bottom"
                                                    Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.BottomTemplate)}" />
                                    <DockPanel HorizontalAlignment="Stretch"
                                               DockPanel.Dock="Bottom">
                                        <FontIconButton VerticalAlignment="Center"
                                                        Background="Transparent"
                                                        Command="{x:Static local:VlcPlayerCommands.PreviousFrame}"
                                                        Content="{x:Static FontIcons.ChevronLeft}"
                                                        DockPanel.Dock="Left"
                                                        FontSize="10"
                                                        Foreground="{TemplateBinding Foreground}"
                                                        Style="{StaticResource Style.Slider.FButton}"
                                                        ToolTip="上一帧"
                                                        Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />
                                        <FontIconButton VerticalAlignment="Center"
                                                        Background="Transparent"
                                                        Command="{x:Static local:VlcPlayerCommands.SpeedDown}"
                                                        Content="{x:Static FontIcons.LeftArrowKeyTime0}"
                                                        DockPanel.Dock="Left"
                                                        FontSize="10"
                                                        Foreground="{TemplateBinding Foreground}"
                                                        Style="{StaticResource Style.Slider.FButton}"
                                                        ToolTip="减速" />
                                        <TextBlock Margin="3,0"
                                                   VerticalAlignment="Center"
                                                   DockPanel.Dock="Left"
                                                   Foreground="{TemplateBinding Foreground}"
                                                   Text="{Binding ElementName=media_slider, Path=Value, Converter={x:Static h:Converter.GetTimeSpanStrFromMilliseconds}}" />
                                        <FontIconButton VerticalAlignment="Center"
                                                        Background="Transparent"
                                                        Command="{x:Static local:VlcPlayerCommands.Stop}"
                                                        Content="{x:Static FontIcons.Stop}"
                                                        DockPanel.Dock="Right"
                                                        FontSize="10"
                                                        Foreground="{TemplateBinding Foreground}"
                                                        Style="{StaticResource Style.Slider.FButton}"
                                                        ToolTip="停止" />
                                        <FontIconButton VerticalAlignment="Center"
                                                        Background="Transparent"
                                                        Command="{x:Static local:VlcPlayerCommands.NextFrame}"
                                                        Content="{x:Static FontIcons.ChevronRight}"
                                                        DockPanel.Dock="Right"
                                                        FontSize="10"
                                                        Foreground="{TemplateBinding Foreground}"
                                                        Style="{StaticResource Style.Slider.FButton}"
                                                        ToolTip="下一帧"
                                                        Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />
                                        <FontIconButton VerticalAlignment="Center"
                                                        Background="Transparent"
                                                        Command="{x:Static local:VlcPlayerCommands.SpeedUp}"
                                                        Content="{x:Static FontIcons.RightArrowKeyTime0}"
                                                        DockPanel.Dock="Right"
                                                        FontSize="10"
                                                        Foreground="{TemplateBinding Foreground}"
                                                        Style="{StaticResource Style.Slider.FButton}"
                                                        ToolTip="加速" />
                                        <TextBlock Margin="3,0"
                                                   VerticalAlignment="Center"
                                                   DockPanel.Dock="Right"
                                                   Foreground="{TemplateBinding Foreground}"
                                                   Text="{Binding ElementName=media_slider, Path=Maximum, Converter={x:Static h:Converter.GetTimeSpanStrFromMilliseconds}}" />
                                        <Slider x:Name="media_slider"
                                                VerticalAlignment="Center"
                                                Foreground="{TemplateBinding Foreground}"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                Maximum="0"
                                                Minimum="0"
                                                Value="0">
                                            <h:Cattach.AttachControlTemplate>
                                                <ControlTemplate>
                                                    <Grid Margin="0,-80,0,0">
                                                        <Border Height="{DynamicResource {x:Static h:LayoutKeys.RowHeight}}"
                                                                HorizontalAlignment="Center"
                                                                Background="{Binding RelativeSource={RelativeSource AncestorType=Slider}, Path=(h:Cattach.CaptionBackground)}"
                                                                CornerRadius="{TemplateBinding h:Cattach.CornerRadius}">
                                                            <TextBlock Foreground="{Binding RelativeSource={RelativeSource AncestorType=Slider}, Path=(h:Cattach.CaptionForeground)}"
                                                                       Text="{Binding RelativeSource={RelativeSource AncestorType=Slider}, Path=Value, Converter={x:Static h:Converter.GetTimeSpanStrFromMilliseconds}}" />
                                                        </Border>

                                                        <Polygon Margin="0,50,0,0"
                                                                 HorizontalAlignment="Center"
                                                                 VerticalAlignment="Center"
                                                                 Fill="{Binding RelativeSource={RelativeSource AncestorType=Slider}, Path=(h:Cattach.TitleBackground)}"
                                                                 FillRule="Nonzero"
                                                                 Points="0,0 5,5 10,0 0,0"
                                                                 Stroke="{DynamicResource {x:Static h:BrushKeys.BorderBrush}}" />
                                                    </Grid>
                                                </ControlTemplate>
                                            </h:Cattach.AttachControlTemplate>
                                        </Slider>
                                    </DockPanel>
                                </DockPanel>
                            </Border>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.6" />
                        </Trigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=border, Path=IsMouseOver, Mode=OneWay}" Value="False" />
                                <Condition Binding="{Binding RelativeSource={RelativeSource Mode=Self}, Path=UseBottomMouseOver}" Value="True" />
                            </MultiDataTrigger.Conditions>
                            <Setter TargetName="dp_bottom" Property="Visibility" Value="Collapsed" />
                        </MultiDataTrigger>

                        <!--<MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=border, Path=IsMouseOver,Mode=OneWay}" Value="True" />
                                <Condition Binding="{Binding RelativeSource={RelativeSource Mode=Self},Path=UseBottomMouseOver}" Value="True" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="h:TransitionService.IsVisible" Value="True" TargetName="dp_bottom"/>
                        </MultiDataTrigger>-->
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="h:Cattach.BottomTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <DockPanel Height="{DynamicResource {x:Static h:LayoutKeys.RowHeight}}"
                               Background="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=ToolBackground}"
                               TextBlock.FontStyle="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=ToolForeground}">
                        <!--  Background="{DynamicResource {x:Static h:BrushKeys.AccentOpacity6}}"  -->
                        <DockPanel Grid.Column="0"
                                   MinWidth="200"
                                   Margin="0,0"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center">

                            <ToggleButton Margin="2,0"
                                          DockPanel.Dock="Left"
                                          IsChecked="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseLeft, Mode=TwoWay}"
                                          IsEnabled="True"
                                          ToolTip="隐藏/显示左侧列表"
                                          Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=(h:Cattach.LeftTemplate), Converter={x:Static h:Converter.GetNullToCollapsed}}" />

                            <FontIconButton Margin="5,0"
                                            Command="{x:Static local:VlcPlayerCommands.OpenFile}"
                                            Content="{x:Static FontIcons.OpenFile}"
                                            Style="{StaticResource Style.Slider.FButton}"
                                            ToolTip="打开文件"
                                            Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseOpenFile, Converter={x:Static h:Converter.GetTrueToVisible}}" />
                            <FontIconButton Content="{x:Static FontIcons.Volume}"
                                            Style="{StaticResource Style.Slider.FButton}"
                                            ToolTip="音量" />

                            <Slider x:Name="slider_sound"
                                    Width="100"
                                    VerticalAlignment="Center"
                                    VerticalContentAlignment="Center"
                                    Foreground="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=ToolForeground}"
                                    IsMoveToPointEnabled="True"
                                    IsSnapToTickEnabled="True"
                                    Maximum="100"
                                    Minimum="0"
                                    SmallChange="1"
                                    Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseVolume, Converter={x:Static h:Converter.GetTrueToVisible}}"
                                    Value="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=Volume}" />

                            <TextBlock VerticalAlignment="Center"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=ToolForeground}"
                                       Text="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=Rate, StringFormat={}{0}X}" />

                        </DockPanel>

                        <DockPanel Width="200"
                                   DockPanel.Dock="Right"
                                   LastChildFill="False">
                            <ToggleButton Margin="2,0"
                                          Content="列表"
                                          DockPanel.Dock="Right"
                                          IsChecked="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseRight, Mode=TwoWay}"
                                          IsEnabled="True"
                                          ToolTip="隐藏/显示右侧列表"
                                          Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=(h:Cattach.RightTemplate), Converter={x:Static h:Converter.GetNullToCollapsed}}" />

                            <FontIconButton Margin="5,0"
                                            Command="{x:Static local:VlcPlayerCommands.ShootCut}"
                                            Content="{x:Static FontIcons.Photo2}"
                                            DockPanel.Dock="Right"
                                            Style="{StaticResource Style.Slider.FButton}"
                                            ToolTip="截图"
                                            Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseShotCut, Converter={x:Static h:Converter.GetTrueToVisible}}" />

                            <FontIconButton Margin="2,0"
                                            Command="{x:Static local:VlcPlayerCommands.FullScreen}"
                                            Content="{x:Static FontIcons.FullScreen}"
                                            DockPanel.Dock="Right"
                                            Style="{StaticResource Style.Slider.FButton}"
                                            ToolTip="全屏"
                                            Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=IsFullScreen, Converter={x:Static h:Converter.GetTrueToCollapsed}}" />
                        </DockPanel>

                        <DockPanel Grid.Column="1"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Background="Transparent">

                            <FontIconButton Margin="5,0"
                                            Content="{x:Static FontIcons.Previous}"
                                            IsEnabled="False"
                                            Style="{StaticResource Style.Slider.FButton}"
                                            ToolTip="上一个"
                                            Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UsePrevious, Converter={x:Static h:Converter.GetTrueToVisible}}" />

                            <FontIconToggleButton Height="Auto"
                                                  Margin="5,0"
                                                  Background="{DynamicResource {x:Static h:BrushKeys.BorderBrush}}"
                                                  Cattach.CornerRadius="50"
                                                  CheckedGlyph="{x:Static FontIcons.Play}"
                                                  Foreground="{DynamicResource {x:Static h:BrushKeys.ForegroundTitle}}"
                                                  IsChecked="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=IsPlaying}"
                                                  UncheckedGlyph="{x:Static FontIcons.Pause}"
                                                  Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UsePlay, Converter={x:Static h:Converter.GetTrueToVisible}}">
                                <!--<ToggleButton.Template>
                                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                                        <Grid>
                                            <Ellipse x:Name="ellipse"
                                                     Width="30"
                                                     Height="30"
                                                     Fill="{TemplateBinding Background}"
                                                     IsHitTestVisible="False" />
                                            <TextBlock x:Name="txt"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       Foreground="{TemplateBinding Foreground}"
                                                       Text="暂停"
                                                       ToolTip="暂停" />
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsChecked" Value="true">
                                -->
                                <!--<Setter TargetName="txt" Property="Text" Value="&#xe749;" />-->
                                <!--
                                                <Setter TargetName="txt" Property="Text" Value="播放" />
                                            </Trigger>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="ellipse" Property="Opacity" Value="0.6" />
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter TargetName="ellipse" Property="Fill" Value="{DynamicResource S.Brush.Accent}" />
                                            </Trigger>
                                            <Trigger Property="IsEnabled" Value="false">
                                                <Setter TargetName="txt" Property="Opacity" Value="0.5" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </ToggleButton.Template>-->
                            </FontIconToggleButton>

                            <FontIconButton Margin="5,0"
                                            Content="{x:Static FontIcons.Next}"
                                            IsEnabled="False"
                                            Style="{StaticResource Style.Slider.FButton}"
                                            ToolTip="下一个"
                                            Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseNext, Converter={x:Static h:Converter.GetTrueToVisible}}" />


                        </DockPanel>
                    </DockPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="h:Cattach.TopTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <Grid Height="{DynamicResource {x:Static h:LayoutKeys.RowHeight}}"
                          Background="Transparent">
                        <TextBlock Margin="5,0"
                                   VerticalAlignment="Center"
                                   Foreground="{DynamicResource {x:Static h:BrushKeys.ForegroundWhite}}"
                                   Text="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=VedioSource}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="{ComponentResourceKey ResourceId=S.VlcPlayer.MouseOver,
                                        TypeInTargetAssembly={x:Type local:VlcPlayer}}"
           BasedOn="{StaticResource {x:Static local:VlcPlayer.DefaultKey}}"
           TargetType="{x:Type local:VlcPlayer}">
        <Setter Property="UseBottomMouseOver" Value="True" />
    </Style>


    <Style x:Key="{ComponentResourceKey ResourceId=S.VlcPlayer.None,
                                        TypeInTargetAssembly={x:Type local:VlcPlayer}}"
           BasedOn="{StaticResource {x:Static local:VlcPlayer.DefaultKey}}"
           TargetType="{x:Type local:VlcPlayer}">
        <Setter Property="IsFullScreen" Value="True" />
        <Setter Property="UseBottom" Value="False" />
        <Setter Property="UseBottomMouseOver" Value="False" />
    </Style>


    <Style x:Key="{ComponentResourceKey ResourceId=S.VlcPlayer.ScrollViewerTransfor,
                                        TypeInTargetAssembly={x:Type local:VlcPlayer}}"
           BasedOn="{StaticResource {x:Static local:VlcPlayer.DefaultKey}}"
           TargetType="{x:Type local:VlcPlayer}">
        <!--<Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:VlcPlayer">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Grid Background="Transparent">
                                <Grid>
                                    <h:ScrollViewerTransfor x:Name="svt" IsFullParent="True">
                                        <h:Interaction.Behaviors>
                                            <h:RightMouseGestureScrollViewerBehavior />
                                        </h:Interaction.Behaviors>
                                        <Grid Width="3840" Height="2160">
                                            <Button Command="{x:Static local:VlcPlayerCommands.PlayMode}"
                                                    Content="{TemplateBinding Content}"
                                                    Style="{x:Null}">
                                                <Button.Template>
                                                    <ControlTemplate TargetType="Button">
                                                        <ContentPresenter />
                                                    </ControlTemplate>
                                                </Button.Template>
                                            </Button>
                                        </Grid>
                                    </h:ScrollViewerTransfor>

                                    <TextBlock FontSize="100"
                                               Foreground="{DynamicResource {x:Static h:BrushKeys.Accent}}"
                                               IsHitTestVisible="False"

                                               Text="{x:Static h:Icons.Play}"
                                               Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsPlaying, Converter={x:Static h:Converter.GetTrueToCollapsed}}" />

                                </Grid>

                                <DockPanel Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseRight,Converter={x:Static h:Converter.GetTrueToVisible}}" DockPanel.Dock="Right">
        -->
        <!--<h:TransitionService.VisibleActions>
                                        <h:TransitionCollection>
                                            <h:TranslateTransition StartPoint="100 0"
                                                                   EndPoint="100 0"
                                                                   Duration="300" />
                                        </h:TransitionCollection>
                                    </h:TransitionService.VisibleActions>-->
        <!--

                                    <ContentControl HorizontalAlignment="Right" Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.RightTemplate)}" />

                                </DockPanel>

                                <DockPanel HorizontalAlignment="Left"
                                           VerticalAlignment="Stretch"
                                           Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:VlcPlayer}, Path=UseLeft,Converter={x:Static h:Converter.GetTrueToVisible}}">
        -->
        <!--<h:TransitionService.VisibleActions>
                                        <h:TransitionCollection>
                                            <h:TranslateTransition StartPoint="-100 0"
                                                                   EndPoint="-100 0"
                                                                   Duration="300" />
                                        </h:TransitionCollection>
                                    </h:TransitionService.VisibleActions>-->
        <!--

                                    <ContentControl HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.LeftTemplate)}" />
                                </DockPanel>

                                <DockPanel HorizontalAlignment="Stretch" VerticalAlignment="Top">
                                    <ContentControl HorizontalAlignment="Stretch" Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.TopTemplate)}" />
                                </DockPanel>

                                <Button HorizontalAlignment="Left"
                                        h:Cattach.Icon="{x:Static h:Icons.Left}"
                                        Command="{x:Static local:VlcPlayerCommands.PreviousFrame}"
                                        Style="{DynamicResource {x:Static h:ButtonKeys.MouseOver}}"
                                        ToolTip="上一帧"
                                        Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />
                                <Button HorizontalAlignment="Right"
                                        h:Cattach.Icon="{x:Static h:Icons.Right}"
                                        Command="{x:Static local:VlcPlayerCommands.NextFrame}"
                                        Style="{DynamicResource {x:Static h:ButtonKeys.MouseOver}}"
                                        ToolTip="下一帧"
                                        Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />

                                <Grid Width="200"
                                      Height="200"
                                      Margin="0,55"
                                      HorizontalAlignment="Right"
                                      VerticalAlignment="Bottom">
                                    <h:ScrollViewerLocator ScrollViewer="{Binding ElementName=svt}" />
                                </Grid>
                            </Grid>

                            <Border x:Name="border"
                                    Height="60"
                                    VerticalAlignment="Bottom"
                                    Background="Transparent">
                                <DockPanel VerticalAlignment="Bottom" Visibility="{Binding ElementName=border, Path=IsMouseOver,Converter={x:Static h:Converter.GetTrueToVisible}}">
        -->
        <!--<h:TransitionService.VisibleActions>
                                        <h:TransitionCollection>
                                            <h:TranslateTransition StartPoint="0 100"
                                                                   EndPoint="0 100"
                                                                   Duration="300" />
                                        </h:TransitionCollection>
                                    </h:TransitionService.VisibleActions>-->
        <!--
                                    <ContentControl DockPanel.Dock="Bottom" Template="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=(h:Cattach.BottomTemplate)}" />
                                    <DockPanel HorizontalAlignment="Stretch" DockPanel.Dock="Bottom">
                                        <Button Width="Auto"
                                                VerticalAlignment="Center"
                                                h:Cattach.Icon="{x:Static h:Icons.Left}"
                                                h:Cattach.IconSize="8"
                                                Command="{x:Static local:VlcPlayerCommands.PreviousFrame}"
                                                DockPanel.Dock="Left"
                                                Style="{StaticResource Style.Slider.FButton}"
                                                ToolTip="上一帧"
                                                Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />
                                        <Button Width="20"
                                                VerticalAlignment="Center"
                                                h:Cattach.Icon="&#xe9ba;"
                                                h:Cattach.IconSize="15"
                                                Command="{x:Static local:VlcPlayerCommands.SpeedDown}"
                                                DockPanel.Dock="Left"
                                                Style="{StaticResource Style.Slider.FButton}"
                                                ToolTip="減速" />
                                        <TextBlock Margin="3,0"
                                                   VerticalAlignment="Center"
                                                   DockPanel.Dock="Left"
                                                   Foreground="{DynamicResource {x:Static h:BrushKeys.ForegroundWhite}}"
                                                   Text="{Binding ElementName=media_slider, Path=Value, Converter={x:Static h:XConverter.MillisecondsTimeSpanConverter}}" />
                                        <Button Width="18"
                                                VerticalAlignment="Center"
                                                h:Cattach.Icon="&#xe609;"
                                                h:Cattach.IconSize="12"
                                                Command="{x:Static local:VlcPlayerCommands.Stop}"
                                                DockPanel.Dock="Right"
                                                Style="{StaticResource Style.Slider.FButton}"
                                                ToolTip="停止" />
                                        <Button Width="Auto"
                                                VerticalAlignment="Center"
                                                h:Cattach.Icon="{x:Static h:Icons.Right}"
                                                h:Cattach.IconSize="8"
                                                Command="{x:Static local:VlcPlayerCommands.NextFrame}"
                                                DockPanel.Dock="Right"
                                                Style="{StaticResource Style.Slider.FButton}"
                                                ToolTip="下一帧"
                                                Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=UsePreviourFrame, Converter={x:Static h:Converter.GetTrueToVisible}}" />
                                        <Button Width="20"
                                                VerticalAlignment="Center"
                                                h:Cattach.Icon="&#xe9bb;"
                                                h:Cattach.IconSize="15"
                                                Command="{x:Static local:VlcPlayerCommands.SpeedUp}"
                                                DockPanel.Dock="Right"
                                                Style="{StaticResource Style.Slider.FButton}"
                                                ToolTip="加速" />
                                        <TextBlock Margin="3,0"
                                                   VerticalAlignment="Center"
                                                   DockPanel.Dock="Right"
                                                   Foreground="{DynamicResource {x:Static h:BrushKeys.ForegroundWhite}}"
                                                   Text="{Binding ElementName=media_slider, Path=Maximum, Converter={x:Static h:XConverter.MillisecondsTimeSpanConverter}}" />
                                        <Slider x:Name="media_slider"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                Maximum="0"
                                                Minimum="0"

                                                Value="0">
                                            <h:Cattach.AttachControlTemplate>
                                                <ControlTemplate>
        -->
        <!--<TextBlock Text="{Binding RelativeSource={RelativeSource Mode=Self},Path=Value,StringFormat=0}"/>-->
        <!--
                                                    <Grid Margin="0,-80,0,0">
                                                        <Border Height="{DynamicResource {x:Static h:LayoutKeys.RowHeight}}"
                                                                HorizontalAlignment="Center"
                                                                Background="{Binding RelativeSource={RelativeSource AncestorType=Slider}, Path=(h:Cattach.TitleBackground)}"
                                                                CornerRadius="{TemplateBinding h:Cattach.CornerRadius}">
                                                            <TextBlock Foreground="{DynamicResource {x:Static h:BrushKeys.ForegroundWhite}}"

                                                                       Text="{Binding RelativeSource={RelativeSource AncestorType=Slider}, Path=Value, Converter={x:Static h:Converter.GetTimeSpanStrFromMilliseconds}}" />
                                                        </Border>

                                                        <Polygon Margin="0,50,0,0"
                                                                 HorizontalAlignment="Center"
                                                                 VerticalAlignment="Center"
                                                                 Fill="{Binding RelativeSource={RelativeSource AncestorType=Slider}, Path=(h:Cattach.TitleBackground)}"
                                                                 FillRule="Nonzero"
                                                                 Points="0,0 5,5 10,0 0,0"
                                                                 Stroke="{DynamicResource {x:Static h:BrushKeys.BorderBrush}}" />
                                                    </Grid>
                                                </ControlTemplate>
                                            </h:Cattach.AttachControlTemplate>
                                        </Slider>
                                    </DockPanel>
                                </DockPanel>
                            </Border>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="{DynamicResource {x:Static h:OpacityKeys.Disable}}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>-->
    </Style>

    <Style BasedOn="{StaticResource {x:Static local:VlcPlayer.DefaultKey}}"
           TargetType="{x:Type local:VlcPlayer}" />

</ResourceDictionary>

