<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
                    xmlns:h="https://github.com/HeBianGu"
                    xmlns:local="clr-namespace:H.App.FileManager">

    <DataTemplate DataType="{x:Type local:fm_dd_file}">
        <Grid>
            <DockPanel>
                <Image Width="50"
                       Height="50"
                       Source="{Binding Url, Converter={h:GetFilePathToSystemInfoIconConverter}, IsAsync=True, ConverterParameter=200}" />
                <ItemsControl MinWidth="50"
                              MaxWidth="150"
                              Margin="5"
                              ToolTip="{Binding Url}">
                    <TextBlock MaxHeight="50"
                               FontWeight="Bold"
                               Text="{Binding Name}"
                               TextTrimming="CharacterEllipsis"
                               TextWrapping="Wrap"
                               ToolTip="{Binding Name}" />
                    <TextBlock Foreground="{DynamicResource {x:Static h:BrushKeys.Orange}}"
                               Text="{Binding Tags}"
                               ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Text}" />
                    <TextBlock Foreground="{DynamicResource {x:Static h:BrushKeys.Pink}}"
                               Text="{Binding Area}"
                               ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Text}" />
                    <TextBlock Foreground="{DynamicResource {x:Static h:BrushKeys.LightBlue}}"
                               Text="{Binding Articulation}"
                               ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Text}" />
                    <TextBlock Foreground="{DynamicResource {x:Static h:BrushKeys.Green}}"
                               Text="{Binding Object}"
                               ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Text}" />
                </ItemsControl>
            </DockPanel>
            <Border HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Background="{DynamicResource {x:Static h:BrushKeys.Red}}"
                    CornerRadius="{DynamicResource {x:Static LayoutKeys.CornerRadius}}"
                    Visibility="{Binding Watched, Converter={x:Static h:Converter.GetTrueToCollapsed}}">
                <TextBlock Margin="5,3"
                           Foreground="White"
                           Text="New" />
            </Border>

            <TextBlock HorizontalAlignment="Left"
                       VerticalAlignment="Bottom"
                       FontWeight="Bold"
                       Foreground="{DynamicResource {x:Static h:BrushKeys.Orange}}">
                <Run Text="{Binding Score}" /><Run Text="分" />
            </TextBlock>

            <FontIconToggleButton Width="20"
                                  Height="20"
                                  Padding="2"
                                  HorizontalAlignment="Right"
                                  VerticalAlignment="Bottom"
                                  Background="Transparent"
                                  BorderThickness="0"
                                  CheckedGlyph="{x:Static FontIcons.HeartFill}"
                                  IsChecked="{Binding Favorite, Mode=TwoWay}"
                                  UncheckedGlyph="{x:Static FontIcons.Heart}">
                <FontIconToggleButton.Style>
                    <Style BasedOn="{StaticResource {x:Static FontIconToggleButtonKeys.Default}}"
                           TargetType="FontIconToggleButton">
                        <Style.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static h:BrushKeys.Red}}" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </FontIconToggleButton.Style>
            </FontIconToggleButton>
        </Grid>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:FileView}">
        <DockPanel>
            <Image Width="100"
                   Height="100"
                   Margin="10"
                   HorizontalAlignment="Left"
                   DockPanel.Dock="Top"
                   Source="{Binding Model.Url, Converter={h:GetFilePathToSystemInfoIconConverter}, IsAsync=True}" />
            <h:Form SelectObject="{Binding}"
                    UsePropertyView="True" />
        </DockPanel>
    </DataTemplate>
</ResourceDictionary>