<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
                    xmlns:lcp="clr-namespace:H.Presenters.Common"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib">
    <DataTemplate DataType="{x:Type lcp:AddImageListPresenter}">
        <DockPanel>
            <ItemsControl ItemsSource="{Binding Paths}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border x:Name="b"
                                Width="60"
                                Height="60"
                                Margin="1"
                                HorizontalAlignment="Left"
                                BorderBrush="{DynamicResource {x:Static BrushKeys.Foreground}}"
                                BorderThickness="1"
                                ClipToBounds="True"
                                CornerRadius="5">
                            <Grid Margin="2">
                                <Image Source="{Binding}" />
                                <FontIconButton x:Name="btn_removeImage"
                                                Width="Auto"
                                                Height="Auto"
                                                Command="{Binding RelativeSource={RelativeSource AncestorType=ItemsControl}, Path=DataContext.RemoveFileCommand}"
                                                CommandParameter="{Binding}"
                                                Content="{x:Static FontIcons.Delete}"
                                                FontSize="20"
                                                Visibility="Collapsed">
                                    <FontIconButton.Style>
                                        <Style BasedOn="{StaticResource {x:Static FontIconButtonKeys.Default}}"
                                               TargetType="FontIconButton">
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background">
                                                        <Setter.Value>
                                                            <SolidColorBrush Opacity="0.5"
                                                                             Color="{DynamicResource {x:Static ColorKeys.Background}}" />
                                                        </Setter.Value>
                                                    </Setter>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </FontIconButton.Style>
                                </FontIconButton>
                            </Grid>
                        </Border>
                        <DataTemplate.Triggers>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding ElementName=b, Path=IsMouseOver}" Value="True" />
                                    <Condition Binding="{Binding RelativeSource={RelativeSource AncestorType=ItemsControl}, Path=DataContext.UseRemove}" Value="True" />
                                </MultiDataTrigger.Conditions>
                                <Setter TargetName="btn_removeImage" Property="Visibility" Value="Visible" />
                            </MultiDataTrigger>
                        </DataTemplate.Triggers>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

            <FontIconButton Width="60"
                            Height="60"
                            Margin="1"
                            HorizontalAlignment="Left"
                            BorderBrush="{DynamicResource {x:Static BrushKeys.Foreground}}"
                            BorderThickness="1"
                            Cattach.CornerRadius="5"
                            Command="{Binding AddFileCommand}"
                            Content="{x:Static FontIcons.Add}"
                            FontSize="20"
                            Visibility="{Binding UseAdd, Converter={GetTrueToVisibleConverter}}" />
        </DockPanel>
    </DataTemplate>
</ResourceDictionary>