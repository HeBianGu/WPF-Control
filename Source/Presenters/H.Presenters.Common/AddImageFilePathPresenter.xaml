<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:h="https://github.com/HeBianGu"
                    xmlns:local="clr-namespace:H.Presenters.Common">
    <DataTemplate DataType="{x:Type local:AddImageFilePathPresenter}">
        <Border x:Name="b"
                Width="{Binding Width}"
                Height="{Binding Height}"
                MinWidth="{Binding MinWidth}"
                MinHeight="{Binding MinHeight}"
                Margin="{Binding Margin}"
                HorizontalAlignment="{Binding HorizontalAlignment}"
                VerticalAlignment="{Binding VerticalAlignment}"
                Background="Transparent"
                BorderBrush="{DynamicResource {x:Static BrushKeys.BorderBrush}}"
                BorderThickness="1"
                CornerRadius="5">
            <Grid>
                <FontIconButton x:Name="btn_add"
                                Width="Auto"
                                Height="Auto"
                                Command="{Binding OpenCommand}"
                                Content="{x:Static FontIcons.Add}"
                                FontSize="20"
                                Foreground="{DynamicResource {x:Static BrushKeys.ForegroundAssist}}"
                                Visibility="Collapsed" />
                <Image Margin="2"
                       Source="{Binding FilePath}"
                       Stretch="UniformToFill" />
                <FontIconButton x:Name="btn_removeImage"
                                Width="Auto"
                                Height="Auto"
                                Command="{Binding RemoveFileCommand}"
                                CommandParameter="{Binding}"
                                Content="{x:Static FontIcons.Delete}"
                                FontSize="20"
                                Visibility="Collapsed">
                    <FontIconButton.Style>
                        <Style BasedOn="{StaticResource {x:Static FontIconButtonKeys.Default}}"
                               TargetType="FontIconButton">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <SolidColorBrush Opacity="0.5"
                                                             Color="{DynamicResource {x:Static ColorKeys.Background}}" />
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </FontIconButton.Style>
                </FontIconButton>
            </Grid>
        </Border>
        <DataTemplate.Triggers>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding ElementName=b, Path=IsMouseOver}" Value="True" />
                    <Condition Binding="{Binding UseRemove}" Value="True" />
                    <Condition Binding="{Binding FilePath, Converter={x:Static Converter.GetNullToFalse}}" Value="True" />
                </MultiDataTrigger.Conditions>
                <Setter TargetName="btn_removeImage" Property="Visibility" Value="Visible" />
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding UseAdd}" Value="True" />
                    <Condition Binding="{Binding FilePath}" Value="{x:Null}" />
                </MultiDataTrigger.Conditions>
                <Setter TargetName="btn_add" Property="Visibility" Value="Visible" />
            </MultiDataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
</ResourceDictionary>